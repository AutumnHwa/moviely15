{"ast":null,"code":"import React,{useState,useEffect}from'react';import'../css/Popcal.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Popcal=_ref=>{let{isOpen,onClose,onSave,onDelete,initialData}=_ref;const[movieData,setMovieData]=useState({watch_date:'',movie_title:'',movie_content:'',user_id:'',created:'',created_by:''});useEffect(()=>{if(initialData){setMovieData({watch_date:initialData.start||'',movie_title:initialData.title||'',movie_content:initialData.movie_content||'',user_id:initialData.user_id||'',created:initialData.created||'',created_by:initialData.created_by||''});}},[initialData]);const handleInputChange=e=>{const{name,value}=e.target;setMovieData(prevData=>({...prevData,[name]:value}));};const handleSave=()=>{onSave(movieData);// 영화 데이터를 onSave 콜백을 통해 저장\nonClose();// 저장 후 팝업 닫기\n};const handleDelete=()=>{onDelete(initialData.id);// 삭제할 이벤트 ID 전달\nonClose();// 삭제 후 팝업 닫기\n};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"popcal-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popcal\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC601\\uD654 \\uAD00\\uB78C \\uAE30\\uB85D\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"watch_date\",children:\"\\uAD00\\uB78C \\uC77C\\uC790\"}),/*#__PURE__*/_jsx(\"input\",{id:\"watch_date\",type:\"date\",name:\"watch_date\",value:movieData.watch_date,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"movie_title\",children:\"\\uC601\\uD654 \\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"input\",{id:\"movie_title\",type:\"text\",name:\"movie_title\",placeholder:\"\\uC601\\uD654 \\uC81C\\uBAA9\",value:movieData.movie_title,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"movie_content\",children:\"\\uAC10\\uC0C1 \\uAE30\\uB85D\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"movie_content\",name:\"movie_content\",placeholder:\"\\uAC10\\uC0C1 \\uAE30\\uB85D\",value:movieData.movie_content,onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"popcal-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,children:\"\\uC0AD\\uC81C\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,children:\"\\uC800\\uC7A5\\uD558\\uAE30\"})]})]})});};export default Popcal;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Popcal","_ref","isOpen","onClose","onSave","onDelete","initialData","movieData","setMovieData","watch_date","movie_title","movie_content","user_id","created","created_by","start","title","handleInputChange","e","name","value","target","prevData","handleSave","handleDelete","id","className","children","htmlFor","type","onChange","placeholder","onClick"],"sources":["/Users/autumn/moviely 오후 2.30.27/src/pages/Popcal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../css/Popcal.css';\n\nconst Popcal = ({ isOpen, onClose, onSave, onDelete, initialData }) => {\n  const [movieData, setMovieData] = useState({\n    watch_date: '',\n    movie_title: '',\n    movie_content: '',\n    user_id: '',\n    created: '',\n    created_by: ''\n  });\n\n  useEffect(() => {\n    if (initialData) {\n      setMovieData({\n        watch_date: initialData.start || '',\n        movie_title: initialData.title || '',\n        movie_content: initialData.movie_content || '',\n        user_id: initialData.user_id || '',\n        created: initialData.created || '',\n        created_by: initialData.created_by || ''\n      });\n    }\n  }, [initialData]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setMovieData(prevData => ({ ...prevData, [name]: value }));\n  };\n\n  const handleSave = () => {\n    onSave(movieData);  // 영화 데이터를 onSave 콜백을 통해 저장\n    onClose();  // 저장 후 팝업 닫기\n  };\n\n  const handleDelete = () => {\n    onDelete(initialData.id);  // 삭제할 이벤트 ID 전달\n    onClose();  // 삭제 후 팝업 닫기\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"popcal-container\">\n      <div className=\"popcal\">\n        <h2>영화 관람 기록하기</h2>\n        <label htmlFor=\"watch_date\">관람 일자</label>\n        <input\n          id=\"watch_date\"\n          type=\"date\"\n          name=\"watch_date\"\n          value={movieData.watch_date}\n          onChange={handleInputChange}\n        />\n        <label htmlFor=\"movie_title\">영화 제목</label>\n        <input\n          id=\"movie_title\"\n          type=\"text\"\n          name=\"movie_title\"\n          placeholder=\"영화 제목\"\n          value={movieData.movie_title}\n          onChange={handleInputChange}\n        />\n        <label htmlFor=\"movie_content\">감상 기록</label>\n        <textarea\n          id=\"movie_content\"\n          name=\"movie_content\"\n          placeholder=\"감상 기록\"\n          value={movieData.movie_content}\n          onChange={handleInputChange}\n        />\n        <div className=\"popcal-buttons\">\n          <button onClick={handleDelete}>삭제하기</button>\n          <button onClick={handleSave}>저장하기</button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Popcal;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAAwD,IAAvD,CAAEC,MAAM,CAAEC,OAAO,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,WAAY,CAAC,CAAAL,IAAA,CAChE,KAAM,CAACM,SAAS,CAAEC,YAAY,CAAC,CAAGd,QAAQ,CAAC,CACzCe,UAAU,CAAE,EAAE,CACdC,WAAW,CAAE,EAAE,CACfC,aAAa,CAAE,EAAE,CACjBC,OAAO,CAAE,EAAE,CACXC,OAAO,CAAE,EAAE,CACXC,UAAU,CAAE,EACd,CAAC,CAAC,CAEFnB,SAAS,CAAC,IAAM,CACd,GAAIW,WAAW,CAAE,CACfE,YAAY,CAAC,CACXC,UAAU,CAAEH,WAAW,CAACS,KAAK,EAAI,EAAE,CACnCL,WAAW,CAAEJ,WAAW,CAACU,KAAK,EAAI,EAAE,CACpCL,aAAa,CAAEL,WAAW,CAACK,aAAa,EAAI,EAAE,CAC9CC,OAAO,CAAEN,WAAW,CAACM,OAAO,EAAI,EAAE,CAClCC,OAAO,CAAEP,WAAW,CAACO,OAAO,EAAI,EAAE,CAClCC,UAAU,CAAER,WAAW,CAACQ,UAAU,EAAI,EACxC,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAACR,WAAW,CAAC,CAAC,CAEjB,KAAM,CAAAW,iBAAiB,CAAIC,CAAC,EAAK,CAC/B,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAChCb,YAAY,CAACc,QAAQ,GAAK,CAAE,GAAGA,QAAQ,CAAE,CAACH,IAAI,EAAGC,KAAM,CAAC,CAAC,CAAC,CAC5D,CAAC,CAED,KAAM,CAAAG,UAAU,CAAGA,CAAA,GAAM,CACvBnB,MAAM,CAACG,SAAS,CAAC,CAAG;AACpBJ,OAAO,CAAC,CAAC,CAAG;AACd,CAAC,CAED,KAAM,CAAAqB,YAAY,CAAGA,CAAA,GAAM,CACzBnB,QAAQ,CAACC,WAAW,CAACmB,EAAE,CAAC,CAAG;AAC3BtB,OAAO,CAAC,CAAC,CAAG;AACd,CAAC,CAED,GAAI,CAACD,MAAM,CAAE,MAAO,KAAI,CAExB,mBACEL,IAAA,QAAK6B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/B5B,KAAA,QAAK2B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrB9B,IAAA,OAAA8B,QAAA,CAAI,oDAAU,CAAI,CAAC,cACnB9B,IAAA,UAAO+B,OAAO,CAAC,YAAY,CAAAD,QAAA,CAAC,2BAAK,CAAO,CAAC,cACzC9B,IAAA,UACE4B,EAAE,CAAC,YAAY,CACfI,IAAI,CAAC,MAAM,CACXV,IAAI,CAAC,YAAY,CACjBC,KAAK,CAAEb,SAAS,CAACE,UAAW,CAC5BqB,QAAQ,CAAEb,iBAAkB,CAC7B,CAAC,cACFpB,IAAA,UAAO+B,OAAO,CAAC,aAAa,CAAAD,QAAA,CAAC,2BAAK,CAAO,CAAC,cAC1C9B,IAAA,UACE4B,EAAE,CAAC,aAAa,CAChBI,IAAI,CAAC,MAAM,CACXV,IAAI,CAAC,aAAa,CAClBY,WAAW,CAAC,2BAAO,CACnBX,KAAK,CAAEb,SAAS,CAACG,WAAY,CAC7BoB,QAAQ,CAAEb,iBAAkB,CAC7B,CAAC,cACFpB,IAAA,UAAO+B,OAAO,CAAC,eAAe,CAAAD,QAAA,CAAC,2BAAK,CAAO,CAAC,cAC5C9B,IAAA,aACE4B,EAAE,CAAC,eAAe,CAClBN,IAAI,CAAC,eAAe,CACpBY,WAAW,CAAC,2BAAO,CACnBX,KAAK,CAAEb,SAAS,CAACI,aAAc,CAC/BmB,QAAQ,CAAEb,iBAAkB,CAC7B,CAAC,cACFlB,KAAA,QAAK2B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B9B,IAAA,WAAQmC,OAAO,CAAER,YAAa,CAAAG,QAAA,CAAC,0BAAI,CAAQ,CAAC,cAC5C9B,IAAA,WAAQmC,OAAO,CAAET,UAAW,CAAAI,QAAA,CAAC,0BAAI,CAAQ,CAAC,EACvC,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}