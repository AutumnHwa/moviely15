{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import'../css/AddPage.css';import logoImage from'../logo.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AddPage(){const navigate=useNavigate();const[gender,setGender]=useState('');const[age,setAge]=useState('');const handleAddInfo=async e=>{e.preventDefault();if(!age){alert(\"나이를 입력해주세요.\");return;}const addInfoData={gender:gender,age:parseInt(age,10)||0};console.log(\"Add Info Data: \",JSON.stringify(addInfoData));try{const response=await fetch('http://moviely.duckdns.org/update-info',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(addInfoData)});if(response.ok){navigate('/movie-select');}else{const errorData=await response.json();console.error('정보 입력 실패:',errorData);alert('정보 입력 실패: '+JSON.stringify(errorData));}}catch(error){console.error('Error:',error);alert('서버와의 연결에 문제가 발생했습니다.');}};const ageOptions=[];for(let i=15;i<=100;i++){ageOptions.push(/*#__PURE__*/_jsx(\"option\",{value:i,children:i},i));}return/*#__PURE__*/_jsxs(\"div\",{className:\"addPage\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"add-logo\",children:/*#__PURE__*/_jsx(\"img\",{src:logoImage,alt:\"Logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"addBox\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uCD94\\uAC00 \\uC815\\uBCF4 \\uC785\\uB825\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uBCF4\\uB2E4 \\uC815\\uD655\\uD55C \\uB9DE\\uCDA4 \\uC601\\uD654 \\uCD94\\uCC9C \\uC11C\\uBE44\\uC2A4\\uB97C \\uC704\\uD574\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uB098\\uC774\\uC640 \\uC131\\uBCC4\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddInfo,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputGroup\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"gender\",children:\"\\uC131\\uBCC4\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"gender\",name:\"gender\",className:\"genderSelect\",value:gender,onChange:e=>setGender(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\uC131\\uBCC4\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"\\uC5EC\\uC131\"}),/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"\\uB0A8\\uC131\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGroup\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"age\",children:\"\\uB098\\uC774\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"age\",name:\"age\",className:\"ageSelect\",value:age,onChange:e=>setAge(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\uB098\\uC774\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"}),ageOptions]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"addButton\",children:\"\\uC785\\uB825\\uD558\\uAE30\"})]})]})]});}export default AddPage;","map":{"version":3,"names":["React","useState","useNavigate","Link","logoImage","jsx","_jsx","jsxs","_jsxs","AddPage","navigate","gender","setGender","age","setAge","handleAddInfo","e","preventDefault","alert","addInfoData","parseInt","console","log","JSON","stringify","response","fetch","method","headers","body","ok","errorData","json","error","ageOptions","i","push","value","children","className","to","src","alt","onSubmit","htmlFor","id","name","onChange","target","required","disabled","type"],"sources":["/Users/autumn/Library/Mobile Documents/com~apple~CloudDocs/.Trash/moviely/src/pages/AddPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport '../css/AddPage.css';\nimport logoImage from '../logo.png';\n\nfunction AddPage() {\n  const navigate = useNavigate();\n  const [gender, setGender] = useState('');\n  const [age, setAge] = useState('');\n\n  const handleAddInfo = async (e) => {\n    e.preventDefault();\n\n    if (!age) {\n      alert(\"나이를 입력해주세요.\");\n      return;\n    }\n\n    const addInfoData = {\n      gender: gender,\n      age: parseInt(age, 10) || 0\n    };\n\n    console.log(\"Add Info Data: \", JSON.stringify(addInfoData));\n\n    try {\n      const response = await fetch('http://moviely.duckdns.org/update-info', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(addInfoData),\n      });\n\n      if (response.ok) {\n        navigate('/movie-select');\n      } else {\n        const errorData = await response.json();\n        console.error('정보 입력 실패:', errorData);\n        alert('정보 입력 실패: ' + JSON.stringify(errorData));\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('서버와의 연결에 문제가 발생했습니다.');\n    }\n  };\n\n  const ageOptions = [];\n  for (let i = 15; i <= 100; i++) {\n    ageOptions.push(<option key={i} value={i}>{i}</option>);\n  }\n\n  return (\n    <div className=\"addPage\">\n      <Link to=\"/\" className=\"add-logo\">\n        <img src={logoImage} alt=\"Logo\" />\n      </Link>\n      <div className=\"addBox\">\n        <h2>추가 정보 입력</h2>\n        <p>보다 정확한 맞춤 영화 추천 서비스를 위해<br />나이와 성별을 입력해주세요.</p>\n        <form onSubmit={handleAddInfo}>\n          <div className=\"inputGroup\">\n            <label htmlFor=\"gender\">성별</label>\n            <select\n              id=\"gender\"\n              name=\"gender\"\n              className=\"genderSelect\"\n              value={gender}\n              onChange={(e) => setGender(e.target.value)}\n              required\n            >\n              <option value=\"\" disabled>성별을 선택해주세요</option>\n              <option value=\"female\">여성</option>\n              <option value=\"male\">남성</option>\n            </select>\n          </div>\n          <div className=\"inputGroup\">\n            <label htmlFor=\"age\">나이</label>\n            <select\n              id=\"age\"\n              name=\"age\"\n              className=\"ageSelect\"\n              value={age}\n              onChange={(e) => setAge(e.target.value)}\n              required\n            >\n              <option value=\"\" disabled>나이를 선택해주세요</option>\n              {ageOptions}\n            </select>\n          </div>\n          <button type=\"submit\" className=\"addButton\">입력하기</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default AddPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}